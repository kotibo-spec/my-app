/* --- LAYOUT.CSS --- */
.app-header {
    padding: calc(var(--safe-top) + 10px) 20px 10px;
    background: linear-gradient(to bottom, rgba(0,0,0,0.8), transparent);
    position: fixed; top: 0; width: 100%; z-index: 1000;
    pointer-events: none;
}
.title-container, .xp-bar-container { pointer-events: auto; }

.app-nav {
    position: fixed; bottom: 0; width: 100%;
    padding-bottom: var(--safe-bottom);
    display: flex; justify-content: space-around; align-items: center;
    background: rgba(0,0,0,0.85); backdrop-filter: blur(15px);
    height: calc(70px + var(--safe-bottom));
    border-top: 1px solid rgba(255,255,255,0.05);
    z-index: 1000;
}

.modal {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    background: rgba(0,0,0,0.8); backdrop-filter: blur(10px);
    z-index: 2000; display: flex; align-items: flex-end;
}
.hidden { display: none !important; }

.modal-content {
    width: 100%; max-height: 85vh;
    background: #111118; border-radius: 25px 25px 0 0;
    padding: 25px 20px calc(40px + var(--safe-bottom));
    overflow-y: scroll; -webkit-overflow-scrolling: touch;
    border-top: 2px solid var(--accent-color);
    position: relative;
}

.close-btn {
    position: absolute; right: 20px; top: 20px;
    background: none; border: none; color: #fff; font-size: 24px;
}